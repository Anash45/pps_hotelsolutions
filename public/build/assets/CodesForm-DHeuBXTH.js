import{b as _,c as v,r as u,g as N,u as b,j as e,I as n,S as p,T as x,P as k,e as F,D as C}from"./app-BPoMNK8q.js";import D from"./CodesPreview-dQZg3Gpr.js";import"./dayjs.min-CIrcpx7S.js";function E({previewCodes:o,setPreviewCodes:d}){const{t:a}=_("Components.codesForm"),{hotels:m,keyTypes:i}=v().props,[c,h]=u.useState("https://app.ppshotelsolutions.de");u.useEffect(()=>{(async()=>{const s=await N();h(s),l("domain",s)})()},[]);const{data:t,setData:l,post:f,processing:y,errors:S}=b({hotel_id:m.length>0?m[0].id:"",key_type:i.length>0?i[0].name:"",no_of_codes:"10",domain:c}),g=s=>{s.preventDefault(),f(route("codes.store"),{data:t,onSuccess:r=>{r.props.flash.generatedCodes&&d(r.props.flash.generatedCodes)}})},j=()=>d([]);return e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:g,className:"grid gap-3 md:grid-cols-2 grid-cols-1",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(n,{htmlFor:"hotel",value:a("hotel"),className:"text-[#344054] font-medium"}),e.jsx(p,{id:"hotel",name:"hotel_id",value:t.hotel_id,onChange:s=>l("hotel_id",s.target.value),className:"w-full block",options:m.map(s=>({value:s.id,label:s.hotel_name}))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(n,{htmlFor:"key_type",value:a("keyType"),className:"text-[#344054] font-medium"}),e.jsx(p,{id:"key_type",name:"key_type",value:t.key_type,onChange:s=>l("key_type",s.target.value),className:"w-full block",options:i.map(s=>({value:s.name,label:s.display_name}))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(n,{htmlFor:"no_of_codes",value:a("numberOfCodes"),className:"text-[#344054] font-medium"}),e.jsx(x,{id:"no_of_codes",name:"no_of_codes",value:t.no_of_codes,onChange:s=>l("no_of_codes",s.target.value),className:"block w-full",required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(n,{htmlFor:"domain",value:a("domainReadOnly"),className:"text-[#344054] font-medium"}),e.jsx(x,{id:"domain",name:"domain",value:c,readOnly:!0,className:"block w-full"})]}),e.jsxs("div",{className:"flex-wrap gap-1 items-center md:col-span-2 flex mt-3",children:[e.jsx(k,{type:"submit",disabled:y,children:a("generateCodes")}),e.jsx(F,{type:"button",onClick:j,children:a("clearPreview")})]})]}),o.length>0&&e.jsxs("div",{className:"flex flex-col gap-3 py-3",children:[e.jsxs("p",{className:"text-[#079E04] text-xs font-medium",children:[o.length," ",a("urlsGenerated")]}),e.jsx("p",{className:"text-xs leading-5 font-medium text-[#475569]",children:a("urlsImmediatelyActive")}),e.jsx(C,{className:"mt-3"})]}),o.length>0&&e.jsx(D,{domain:t.domain,previewCodes:o})]})}export{E as default};
