import{d as v,b as w,r as t,j as e,I as E,a as P,k as D}from"./app-D2ascpph.js";import{u as k}from"./index-DO0mg4nF.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],U=v("cloud-upload",I);function L({value:a,errors:f,maxSizeMB:o=5}){const{t:s}=w("profile.ProfilePhotoUpload"),[p,m]=t.useState(null),[u,i]=t.useState(null),[h,c]=t.useState("");t.useEffect(()=>{typeof a=="string"&&a!==""?(i(a),m(null)):i(null)},[a]);const j=n=>{const r=new FormData;r.append("profile_image",n),D.post(route("profile.update.photo"),r,{forceFormData:!0,onSuccess:()=>console.log("✅ Photo uploaded"),onError:l=>console.error("❌ Upload error:",l)})},b=t.useCallback((n,r)=>{if(r.length>0){const x=r[0];x.errors.some(d=>d.code==="file-too-large")?c(s("fileTypes",{maxSizeMB:o})):x.errors.some(d=>d.code==="file-invalid-type")&&c(s("fileTypes",{maxSizeMB:o}));return}const l=n[0];m(URL.createObjectURL(l)),i(null),c(""),j(l)},[o]),{getRootProps:N,getInputProps:y,isDragActive:g}=k({onDrop:b,accept:{"image/png":[],"image/jpeg":[],"image/jpg":[],"image/gif":[],"image/svg+xml":[]},maxFiles:1,maxSize:o*1024*1024});return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[e.jsxs("div",{className:"md:col-span-4 space-y-2",children:[e.jsx(E,{className:"text-[#344054] font-medium",htmlFor:"photo",value:s("label")}),e.jsx(P,{className:"mt-2",message:f?.profile_image||h})]}),e.jsx("div",{className:"md:col-span-8",children:e.jsxs("div",{className:"flex gap-5 items-start",children:[e.jsx("img",{src:p||(u?`/storage/${u}`:"/images/user-placeholder.png"),alt:"Preview",className:"h-16 w-16 object-cover rounded-full"}),e.jsxs("div",{...N(),className:`grow border-2 border-gray-300 rounded-xl py-4 px-6 flex items-center justify-center cursor-pointer hover:border-gray-400 transition ${g?"border-solid border-[#7F56D9] bg-purple-100":"border-dashed bg-white"}`,children:[e.jsx("input",{...y(),id:"photo"}),e.jsxs("div",{className:"flex flex-col gap-3 items-center justify-center text-center font-inter",children:[e.jsx("div",{className:"h-10 w-10 bg-white rounded-lg border border-[#EAECF0] shadow-sm flex items-center justify-center",children:e.jsx(U,{strokeWidth:2,className:"text-[#475467] h-5 w-5"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[#475467] text-sm",children:g?e.jsx("span",{className:"font-semibold text-[#6941C6]",children:s("dropLikeItsHot")}):e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold text-[#6941C6]",children:s("clickToUpload")})," ",s("orDragAndDrop")]})}),e.jsx("p",{className:"text-[#475467] text-xs leading-[18px]",children:s("fileTypes",{maxSizeMB:o})})]})]})]})]})})]})}export{L as default};
