import{b as f,r as o,j as e,H as b,S as g,f as S}from"./app-Dy2hwrlG.js";import{A as j}from"./AuthenticatedLayout-COUH_XQk.js";import w from"./DashboardTitle-CCA-qG9M.js";import D from"./DashboardStats-DtsSJELN.js";import _ from"./DashboardViewsChart-S2QqFTOj.js";import v from"./DashboardButtonsViewsChart-DZbGEH2h.js";import"./ApplicationLogo-DMsshb28.js";import"./CartesianChart-Pfm7KzaJ.js";import"./with-selector-CjnrgPD7.js";function L(){const{auth:d,hotels:u=[],selectedHotel:l=null,viewsData:s={}}=f().props,[i,V]=o.useState(["7_days","30_days","90_days"]),[t,c]=o.useState(i[0]),[r,n]=o.useState(null),[m,h]=o.useState(l?String(l.id):""),p=d.user.role==="admin",x=a=>{h(a.target.value),S.get(route("dashboard"),{hotel_id:a.target.value})};return o.useEffect(()=>{s&&t&&s[t]?n(s[t]||[]):n([])},[s,t]),console.log("Hotels:",l),console.log("Views Data:",s),console.log("Current Views:",r),e.jsxs(j,{children:[e.jsx(b,{title:"Dashboard"}),e.jsxs("div",{className:"py-4 md:px-6 px-4 flex flex-col gap-6",children:[e.jsx(w,{durations:i,selectedDuration:t,setSelectedDuration:c}),p&&e.jsx("div",{className:"w-64",children:e.jsx(g,{id:"hotel_id",name:"hotel_id",value:m,onChange:x,className:"w-full block",options:[{value:"",label:"Select Hotel"},...u.map(a=>({value:String(a.id),label:a.hotel_name}))]})}),e.jsxs("div",{className:"flex flex-col gap-3.5",children:[e.jsx(D,{dashboardStats:s?.all_time??{}}),e.jsx(_,{selectedDuration:t,chartViews:r?.chart_data??{}}),e.jsx(v,{buttonsViews:r?.buttons??{},selectedDuration:t})]})]})]})}export{L as default};
