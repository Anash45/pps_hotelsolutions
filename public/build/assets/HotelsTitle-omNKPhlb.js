import{b as f,r as i,h,j as n,d as p,P as x,e as b}from"./app-DYLREHA1.js";function j({title:d}){const{auth:g,selectedHotel:t=null}=f().props,{brandingFormData:r,setBrandingFormData:c}=i.useContext(h),[l,s]=i.useState(!1),m=async()=>{if(!t)return;s(!0);const o=new FormData;Object.entries(r).forEach(([e,a])=>{(a instanceof File||typeof a=="string")&&o.append(e,a)}),console.log("Sending Form Data: ",r);try{const{data:e}=await b.post(route("hotels.updateBranding",t.id),o,{headers:{"Content-Type":"multipart/form-data"}});e.success&&c(a=>({...a,...e.hotel,logo_image:null,logo_image_url:e.hotel.logo_image?`/storage/${e.hotel.logo_image}`:null,banner_image:null,banner_image_url:e.hotel.banner_image?`/storage/${e.hotel.banner_image}`:null})),s(!1)}catch(e){console.error("Error updating branding:",e),s(!1)}};function u(o,e){const a=o==="admin"?`/test-landing?hotel_id=${e}`:"/test-landing";window.open(a,"_blank")}return n.jsxs("div",{className:"flex items-center gap-3 flex-wrap justify-between",children:[n.jsx("h5",{className:"font-bold text-xl text-grey900",children:d}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(p,{disabled:!t,className:"bg-slate-300",onClick:()=>u(g.user.role,t.id),children:"Test Landing"}),n.jsx(x,{onClick:m,disabled:!t||l,children:l?"Saving...":"Save & Publish"})]})]})}export{j as default};
