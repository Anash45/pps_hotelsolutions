import{c as v,r as o,j as e,I as y,a as w,f as P}from"./app-CfozfuBz.js";import{u as E}from"./index-DfpKIvMP.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],F=v("cloud-upload",I);function k({value:r,errors:x,maxSizeMB:t=5}){const[d,p]=o.useState(null),[m,l]=o.useState(null),[h,i]=o.useState("");o.useEffect(()=>{typeof r=="string"&&r!==""?(l(r),p(null)):l(null)},[r]);const f=c=>{const s=new FormData;s.append("profile_image",c),P.post(route("profile.update.photo"),s,{forceFormData:!0,onSuccess:()=>{console.log("✅ Photo uploaded")},onError:a=>{console.error("❌ Upload error:",a)}})},j=o.useCallback((c,s)=>{if(s.length>0){const g=s[0];g.errors.some(n=>n.code==="file-too-large")?i(`File is too large. Max size is ${t} MB.`):g.errors.some(n=>n.code==="file-invalid-type")&&i("Invalid file type. Only SVG, PNG, JPG or GIF allowed.");return}const a=c[0];p(URL.createObjectURL(a)),l(null),i(""),f(a)},[t]),{getRootProps:N,getInputProps:b,isDragActive:u}=E({onDrop:j,accept:{"image/png":[],"image/jpeg":[],"image/jpg":[],"image/gif":[],"image/svg+xml":[]},maxFiles:1,maxSize:t*1024*1024});return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[e.jsxs("div",{className:"md:col-span-4 space-y-2",children:[e.jsx(y,{className:"text-[#344054] font-medium",htmlFor:"photo",value:"Your photo"}),e.jsx(w,{className:"mt-2",message:x?.profile_image||h})]}),e.jsx("div",{className:"md:col-span-8",children:e.jsxs("div",{className:"flex gap-5 items-start",children:[e.jsx("img",{src:d||(m?`/storage/${m}`:"/images/user-placeholder.png"),alt:"Preview",className:"h-16 w-16 object-cover rounded-full"}),e.jsxs("div",{...N(),className:`grow border-2 border-gray-300 rounded-xl py-4 px-6 flex items-center justify-center cursor-pointer hover:border-gray-400 transition ${u?"border-solid border-[#7F56D9] bg-purple-100":"border-dashed bg-white"}`,children:[e.jsx("input",{...b(),id:"photo"}),e.jsxs("div",{className:"flex flex-col gap-3 items-center justify-center text-center font-inter",children:[e.jsx("div",{className:"h-10 w-10 bg-white rounded-lg border border-[#EAECF0] shadow-sm flex items-center justify-center",children:e.jsx(F,{strokeWidth:2,className:"text-[#475467] h-5 w-5"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[#475467] text-sm",children:u?e.jsx("span",{className:"font-semibold text-[#6941C6]",children:"Drop like it's hot"}):e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold text-[#6941C6]",children:"Click to upload"})," ","or drag and drop"]})}),e.jsxs("p",{className:"text-[#475467] text-xs leading-[18px]",children:["SVG, PNG, JPG or GIF (max. ",t," MB)"]})]})]})]})]})})]})}export{k as default};
