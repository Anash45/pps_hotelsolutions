import{b as f,r as i,h,j as n,d as x,P as p,e as b}from"./app-BIfnRM97.js";function j({title:d}){const{auth:g,selectedHotel:a=null}=f().props,{brandingFormData:l,setBrandingFormData:c}=i.useContext(h),[r,s]=i.useState(!1),m=async()=>{if(!a)return;s(!0);const o=new FormData;Object.entries(l).forEach(([e,t])=>{(t instanceof File||typeof t=="string")&&o.append(e,t)}),console.log("Sending Form Data: ",l);try{const{data:e}=await b.post(route("hotels.updateBranding",a.id),o,{headers:{"Content-Type":"multipart/form-data"}});e.success&&c(t=>({...t,...e.hotel,logo_image:null,logo_image_url:e.hotel.logo_image?`/storage/${e.hotel.logo_image}`:null,banner_image:null,banner_image_url:e.hotel.banner_image?`/storage/${e.hotel.banner_image}`:null})),s(!1)}catch(e){console.error("Error updating branding:",e),s(!1)}};function u(o,e){o==="admin"?window.location=`/test-landing?hotel_id=${e}`:window.location="/test-landing"}return n.jsxs("div",{className:"flex items-center gap-3 flex-wrap justify-between",children:[n.jsx("h5",{className:"font-bold text-xl text-grey900",children:d}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(x,{disabled:!a,className:"bg-slate-300",onClick:()=>u(g.user.role,a.id),children:"Test Landing"}),n.jsx(p,{onClick:m,disabled:!a||r,children:r?"Saving...":"Save & Publish"})]})]})}export{j as default};
