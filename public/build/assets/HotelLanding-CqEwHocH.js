import{y as j,p as y,z as w,A as _,B as N,M as v,U as F,W as b,E as k,J as M,K as H,F as m,o as P,r as x,i as d,j as e,f as $,b as C,s as W,v as B}from"./app-DswjtOnX.js";const I={FileText:m,FileText:m,MapPin:H,Globe:M,Phone:k,Wifi:b,Utensils:F,Mail:v,FaFacebook:N,FaInstagram:_,FaPinterest:w,FaWhatsapp:y,FaSwimmingPool:j};function L(l){return l&&I[l]||null}function E({codeDetails:l={},brandingFormData:a}){const{openModal:t}=P(),{loadingButton:u,setLoadingButton:n}=x.useContext(d),h=async s=>{try{await $.post(`/buttons/${s}/view`),console.log("✅ View tracked for button",s)}catch(o){console.error("❌ Failed to track view",o.response?.data||o)}},f=async(s,o)=>{const r=o.id||o.button_id;n(r),await h(r),n(null),o.type==="wifi"&&(s.preventDefault(),t("HotelWifiModal",{wifiName:o.wifi_name,wifiPassword:o.wifi_password}))};return e.jsx("div",{className:"space-y-2",children:a?.buttons.map((s,o)=>{const r=L(s.icon);let i="#";s.type==="url"||s.type==="map"?i=s.url:s.type==="phone"?i=`tel:${s.phone}`:s.type==="whatsapp"?i=`https://wa.me/${s.whatsapp}`:s.type==="email"?i=`mailto:${s.email}`:s.type==="page"&&s.page_id&&(i=l?.code?`/key/${l.code}/page/${s.page_id}`:"#");const c=u===(s.id||s.button_id);return e.jsx("a",{className:`block w-full px-4 py-3 rounded-xl border text-sm hotel-button relative ${c?"opacity-75 pointer-events-none":""}`,style:{color:s.text_color??a.button_text_color,backgroundColor:s.background_color??a.primary_color,borderColor:s.background_color??a.primary_color},target:["url","map","phone","whatsapp","email"].includes(s.type)?"_blank":"_self",href:i,onClick:g=>f(g,s),children:e.jsxs("div",{className:"flex justify-start items-center gap-2",children:[r?e.jsx(r,{size:18}):e.jsx("span",{}),e.jsx("span",{children:s.text}),c&&e.jsxs("svg",{className:"animate-spin ml-auto h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})]})},o)})})}function p(l){if(!l)return"";try{return W(B(l),"dd.MM.yyyy")}catch{return l}}const z=({})=>{const{codeDetails:l}=C().props,{brandingFormData:a}=x.useContext(d),t=l?.key_assignment??{};return console.log("ONE: ",l,t),e.jsxs("div",{className:"space-y-4",style:{color:`${a?.text_color??"#020617"}`},children:[e.jsx("div",{className:"flex justify-between gap-3 flex-wrap",children:!a.user_view||a.user_view===!1?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm font-medium",children:"Guest Name"}),e.jsx("span",{className:"text-sm font-medium",children:"Zimmer 312"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-sm font-medium",children:[t?.title," ",t?.first_name," ",t?.last_name]}),t?.room_number&&e.jsxs("span",{className:"text-sm font-medium",children:["Zimmer ",t?.room_number]})]})}),e.jsxs("div",{className:"space-y-3 text-center",children:[a.logo_image_url?e.jsx("img",{src:`${a.logo_image_url}`,alt:"Hotel",className:"max-h-24 max-w-36 h-auto w-auto object-contain object-center mx-auto"}):e.jsx("img",{src:"/images/building-placeholder.webp",alt:"Hotel",className:"max-h-24 max-w-36 h-auto w-auto object-contain object-center mx-auto"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-2xl font-semibold",children:a.heading??"Hotel Name"}),t?.stay_from&&t?.stay_till?e.jsxs("span",{className:"text-xs font-montserrat",children:[t?.stay_from?p(t?.stay_from):""," ","-"," ",t?.stay_till?p(t?.stay_till):""]}):null]}),a.sub_heading?e.jsx("p",{className:"text-base text-center",children:a.sub_heading}):null]}),a.banner_image_url?e.jsx("img",{src:`${a.banner_image_url}`,alt:"Hotel",className:"max-h-[150px] h-auto w-full rounded-[12px] object-cover object-center border mx-auto"}):e.jsx("img",{src:"/images/building-placeholder.webp",alt:"Hotel",className:"h-[132px] w-full rounded-[12px] object-cover object-center border mx-auto"}),e.jsx(E,{codeDetails:l,brandingFormData:a})]})},T=({})=>e.jsx(z,{});export{T as H,L as g};
