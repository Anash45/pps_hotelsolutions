import{r as l,m as we,n as Fe,b as $e,j as O}from"./app-pLepdTAh.js";import{r as re,a as ne,S as Ve,b as He,u as R,s as Ge,c as Ue,d as qe,e as Xe,f as Ye,g as Ze,i as J,h as W,j as Je,k as de,l as Qe,m as et,n as tt,o as at,p as rt,q as X,t as Q,v as nt,D as ie,w as Ae,R as it,x as ot,y as lt,z as st,Z as oe,A as je,B as ct,C as ut,E as dt,F as vt,G as ft,H as Ee,L as H,I as pt,J as mt,K as ht,M as ve,N as Ie,O as gt,P as yt,Q as bt,T as _,U as xt,V as Pt,W as Ot,X as wt,Y as At,_ as fe,$ as z,a0 as jt,a1 as Et,a2 as K,a3 as L,a4 as N,a5 as It,a6 as Se,a7 as ke,a8 as Be,a9 as St,aa as kt,ab as pe,ac as Bt,ad as Ct,ae as me,af as Dt,ag as ee,ah as _t,ai as zt,aj as Kt,ak as Lt,al as Mt,am as Nt,an as he}from"./CartesianChart-I8umalwG.js";function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},G.apply(null,arguments)}function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Tt(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ge(Object(a),!0).forEach(function(r){Rt(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Rt(e,t,a){return(t=Wt(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Wt(e){var t=Ft(e,"string");return typeof t=="symbol"?t:t+""}function Ft(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S=32,$t={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Vt(e){var{data:t,iconType:a,inactiveColor:r}=e,n=S/2,i=S/6,o=S/3,d=t.inactive?r:t.color,u=a??t.type;if(u==="none")return null;if(u==="plainline"){var s;return l.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(s=t.payload)===null||s===void 0?void 0:s.strokeDasharray,x1:0,y1:n,x2:S,y2:n,className:"recharts-legend-icon"})}if(u==="line")return l.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(n,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(n,`
            H`).concat(S,"M").concat(2*o,",").concat(n,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if(u==="rect")return l.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(S/8,"h").concat(S,"v").concat(S*3/4,"h").concat(-S,"z"),className:"recharts-legend-icon"});if(l.isValidElement(t.legendIcon)){var c=Tt({},t);return delete c.legendIcon,l.cloneElement(t.legendIcon,c)}return l.createElement(He,{fill:d,cx:n,cy:n,size:S,sizeType:"diameter",type:u})}function Ht(e){var{payload:t,iconSize:a,layout:r,formatter:n,inactiveColor:i,iconType:o}=e,d={x:0,y:0,width:S,height:S},u={display:r==="horizontal"?"inline-block":"block",marginRight:10},s={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,f)=>{var v=c.formatter||n,g=we({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:c.inactive});if(c.type==="none")return null;var m=c.inactive?i:c.color,h=v?v(c.value,c,f):c.value;return l.createElement("li",G({className:g,style:u,key:"legend-item-".concat(f)},ne(e,c,f)),l.createElement(Ve,{width:a,height:a,viewBox:d,style:s,"aria-label":"".concat(h," legend icon")},l.createElement(Vt,{data:c,iconType:o,inactiveColor:i})),l.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},h))})}var Gt=e=>{var t=re(e,$t),{payload:a,layout:r,align:n}=t;if(!a||!a.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return l.createElement("ul",{className:"recharts-default-legend",style:i},l.createElement(Ht,G({},t,{payload:a})))};function Ut(){return R(Ge)}var qt=["contextPayload"];function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},te.apply(null,arguments)}function ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ye(Object(a),!0).forEach(function(r){Xt(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ye(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Xt(e,t,a){return(t=Yt(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Yt(e){var t=Zt(e,"string");return typeof t=="symbol"?t:t+""}function Zt(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jt(e,t){if(e==null)return{};var a,r,n=Qt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Qt(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function ea(e){return e.value}function ta(e){var{contextPayload:t}=e,a=Jt(e,qt),r=Qe(t,e.payloadUniqBy,ea),n=M(M({},a),{},{payload:r});return l.isValidElement(e.content)?l.cloneElement(e.content,n):typeof e.content=="function"?l.createElement(e.content,n):l.createElement(Gt,n)}function aa(e,t,a,r,n,i){var{layout:o,align:d,verticalAlign:u}=t,s,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&o==="vertical"?s={left:((r||0)-i.width)/2}:s=d==="right"?{right:a&&a.right||0}:{left:a&&a.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?c={top:((n||0)-i.height)/2}:c=u==="bottom"?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),M(M({},s),c)}function ra(e){var t=W();return l.useEffect(()=>{t(Je(e))},[t,e]),null}function na(e){var t=W();return l.useEffect(()=>(t(de(e)),()=>{t(de({width:0,height:0}))}),[t,e]),null}function ia(e,t,a,r){return e==="vertical"&&J(t)?{height:t}:e==="horizontal"?{width:a||r}:null}var oa={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Ce(e){var t=re(e,oa),a=Ut(),r=Ue(),n=qe(),{width:i,height:o,wrapperStyle:d,portal:u}=t,[s,c]=Xe([a]),f=Ye(),v=Ze();if(f==null||v==null)return null;var g=f-(n?.left||0)-(n?.right||0),m=ia(t.layout,o,i,g),h=u?d:M(M({position:"absolute",width:m?.width||i||"auto",height:m?.height||o||"auto"},aa(d,t,n,f,v,s)),d),x=u??r;if(x==null||a==null)return null;var p=l.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:c},l.createElement(ra,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!u&&l.createElement(na,{width:s.width,height:s.height}),l.createElement(ta,te({},t,m,{margin:n,chartWidth:f,chartHeight:v,contextPayload:a})));return Fe.createPortal(p,x)}Ce.displayName="Legend";var De=e=>null;De.displayName="Cell";var _e=(e,t)=>{var a=W();return(r,n)=>i=>{e?.(r,n,i),a(et({activeIndex:String(n),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},ze=e=>{var t=W();return(a,r)=>n=>{e?.(a,r,n),t(tt())}},Ke=(e,t)=>{var a=W();return(r,n)=>i=>{e?.(r,n,i),a(at({activeIndex:String(n),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},la="Invariant failed";function sa(e,t){throw new Error(la)}var ca=["x","y"];function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ae.apply(null,arguments)}function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?be(Object(a),!0).forEach(function(r){ua(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ua(e,t,a){return(t=da(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function da(e){var t=va(e,"string");return typeof t=="symbol"?t:t+""}function va(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fa(e,t){if(e==null)return{};var a,r,n=pa(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function pa(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function ma(e,t){var{x:a,y:r}=e,n=fa(e,ca),i="".concat(a),o=parseInt(i,10),d="".concat(r),u=parseInt(d,10),s="".concat(t.height||n.height),c=parseInt(s,10),f="".concat(t.width||n.width),v=parseInt(f,10);return T(T(T(T(T({},t),n),o?{x:o}:{}),u?{y:u}:{}),{},{height:c,width:v,name:t.name,radius:t.radius})}function U(e){return l.createElement(rt,ae({shapeType:"rectangle",propTransformer:ma,activeClassName:"recharts-active-bar"},e))}var ha=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,n)=>{if(J(t))return t;var i=J(r)||X(r);return i?t(r,n):(i||sa(),a)}};function ga(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Q(e.zIndex)?e.zIndex:t}var ya=["onMouseEnter","onMouseLeave","onClick"],ba=["value","background","tooltipPosition"],xa=["id"],Pa=["onMouseEnter","onClick","onMouseLeave"];function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},C.apply(null,arguments)}function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?xe(Object(a),!0).forEach(function(r){Oa(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Oa(e,t,a){return(t=wa(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function wa(e){var t=Aa(e,"string");return typeof t=="symbol"?t:t+""}function Aa(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q(e,t){if(e==null)return{};var a,r,n=ja(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ja(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Ea=e=>{var{dataKey:t,name:a,fill:r,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:r,value:je(a,t),payload:e}]},Ia=l.memo(e=>{var{dataKey:t,stroke:a,strokeWidth:r,fill:n,name:i,hide:o,unit:d,tooltipType:u}=e,s={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:n,dataKey:t,nameKey:void 0,name:je(i,t),hide:o,type:u,color:n,unit:d}};return l.createElement(ct,{tooltipEntrySettings:s})});function Sa(e){var t=R(Ie),{data:a,dataKey:r,background:n,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:d,onClick:u}=i,s=q(i,ya),c=_e(o,r),f=ze(d),v=Ke(u,r);if(!n||a==null)return null;var g=gt(n);return l.createElement(oe,{zIndex:ga(n,ie.barBackground)},a.map((m,h)=>{var{value:x,background:p,tooltipPosition:y}=m,w=q(m,ba);if(!p)return null;var b=c(m,h),j=f(m,h),P=v(m,h),k=A(A(A(A(A({option:n,isActive:String(h)===t},w),{},{fill:"#eee"},p),g),ne(s,m,h)),{},{onMouseEnter:b,onMouseLeave:j,onClick:P,dataKey:r,index:h,className:"recharts-bar-background-rectangle"});return l.createElement(U,C({key:"background-bar-".concat(h)},k))}))}function ka(e){var{showLabels:t,children:a,rects:r}=e,n=r?.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return A(A({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return l.createElement(Pt,{value:t?n:void 0},a)}function Ba(e){var{shape:t,activeBar:a,baseProps:r,entry:n,index:i,dataKey:o}=e,d=R(Ie),u=R(wt),s=a&&String(i)===d&&(u==null||o===u),c=s?a:t;return s?l.createElement(oe,{zIndex:ie.activeBar},l.createElement(U,C({},r,{name:String(r.name)},n,{isActive:s,option:c,index:i,dataKey:o}))):l.createElement(U,C({},r,{name:String(r.name)},n,{isActive:s,option:c,index:i,dataKey:o}))}function Ca(e){var{shape:t,baseProps:a,entry:r,index:n,dataKey:i}=e;return l.createElement(U,C({},a,{name:String(a.name)},r,{isActive:!1,option:t,index:n,dataKey:i}))}function Da(e){var t,{data:a,props:r}=e,n=(t=Ot(r))!==null&&t!==void 0?t:{},{id:i}=n,o=q(n,xa),{shape:d,dataKey:u,activeBar:s}=r,{onMouseEnter:c,onClick:f,onMouseLeave:v}=r,g=q(r,Pa),m=_e(c,u),h=ze(v),x=Ke(f,u);return a?l.createElement(l.Fragment,null,a.map((p,y)=>l.createElement(H,C({key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(y),className:"recharts-bar-rectangle"},ne(g,p,y),{onMouseEnter:m(p,y),onMouseLeave:h(p,y),onClick:x(p,y)}),s?l.createElement(Ba,{shape:d,activeBar:s,baseProps:o,entry:p,index:y,dataKey:u}):l.createElement(Ca,{shape:d,baseProps:o,entry:p,index:y,dataKey:u})))):null}function _a(e){var{props:t,previousRectanglesRef:a}=e,{data:r,layout:n,isAnimationActive:i,animationBegin:o,animationDuration:d,animationEasing:u,onAnimationEnd:s,onAnimationStart:c}=t,f=a.current,v=yt(t,"recharts-bar-"),[g,m]=l.useState(!1),h=!g,x=l.useCallback(()=>{typeof s=="function"&&s(),m(!1)},[s]),p=l.useCallback(()=>{typeof c=="function"&&c(),m(!0)},[c]);return l.createElement(ka,{showLabels:h,rects:r},l.createElement(bt,{animationId:v,begin:o,duration:d,isActive:i,easing:u,onAnimationEnd:x,onAnimationStart:p,key:v},y=>{var w=y===1?r:r?.map((b,j)=>{var P=f&&f[j];if(P)return A(A({},b),{},{x:_(P.x,b.x,y),y:_(P.y,b.y,y),width:_(P.width,b.width,y),height:_(P.height,b.height,y)});if(n==="horizontal"){var k=_(0,b.height,y),B=_(b.stackedBarStart,b.y,y);return A(A({},b),{},{y:B,height:k})}var E=_(0,b.width,y),I=_(b.stackedBarStart,b.x,y);return A(A({},b),{},{width:E,x:I})});return y>0&&(a.current=w??null),w==null?null:l.createElement(H,null,l.createElement(Da,{props:t,data:w}))}),l.createElement(xt,{label:t.label}),t.children)}function za(e){var t=l.useRef(null);return l.createElement(_a,{previousRectanglesRef:t,props:e})}var Le=0,Ka=(e,t)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:Ee(e,t)}};class La extends l.PureComponent{render(){var{hide:t,data:a,dataKey:r,className:n,xAxisId:i,yAxisId:o,needClip:d,background:u,id:s}=this.props;if(t||a==null)return null;var c=we("recharts-bar",n),f=s;return l.createElement(H,{className:c,id:s},d&&l.createElement("defs",null,l.createElement(pt,{clipPathId:f,xAxisId:i,yAxisId:o})),l.createElement(H,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(f,")"):void 0},l.createElement(Sa,{data:a,dataKey:r,background:u,allOtherBarProps:this.props}),l.createElement(za,this.props)))}}var Ma={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Le,xAxisId:0,yAxisId:0,zIndex:ie.bar};function Na(e){var{xAxisId:t,yAxisId:a,hide:r,legendType:n,minPointSize:i,activeBar:o,animationBegin:d,animationDuration:u,animationEasing:s,isAnimationActive:c}=e,{needClip:f}=ut(t,a),v=dt(),g=Ae(),m=vt(e.children,De),h=R(y=>vr(y,t,a,g,e.id,m));if(v!=="vertical"&&v!=="horizontal")return null;var x,p=h?.[0];return p==null||p.height==null||p.width==null?x=0:x=v==="vertical"?p.height/2:p.width/2,l.createElement(ft,{xAxisId:t,yAxisId:a,data:h,dataPointFormatter:Ka,errorBarOffset:x},l.createElement(La,C({},e,{layout:v,needClip:f,data:h,xAxisId:t,yAxisId:a,hide:r,legendType:n,minPointSize:i,activeBar:o,animationBegin:d,animationDuration:u,animationEasing:s,isAnimationActive:c})))}function Ta(e){var{layout:t,barSettings:{dataKey:a,minPointSize:r},pos:n,bandSize:i,xAxis:o,yAxis:d,xAxisTicks:u,yAxisTicks:s,stackedData:c,displayedData:f,offset:v,cells:g,parentViewBox:m,dataStartIndex:h}=e,x=t==="horizontal"?d:o,p=c?x.scale.domain():null,y=mt({numericAxis:x}),w=x.scale(y);return f.map((b,j)=>{var P,k,B,E,I,Y;c?P=ht(c[j+h],p):(P=Ee(b,a),Array.isArray(P)||(P=[y,P]));var D=ha(r,Le)(P[1],j);if(t==="horizontal"){var Z,[le,$]=[d.scale(P[0]),d.scale(P[1])];k=ve({axis:o,ticks:u,bandSize:i,offset:n.offset,entry:b,index:j}),B=(Z=$??le)!==null&&Z!==void 0?Z:void 0,E=n.size;var se=le-$;if(I=At(se)?0:se,Y={x:k,y:v.top,width:E,height:v.height},Math.abs(D)>0&&Math.abs(I)<Math.abs(D)){var ce=fe(I||D)*(Math.abs(D)-Math.abs(I));B-=ce,I+=ce}}else{var[ue,Te]=[o.scale(P[0]),o.scale(P[1])];if(k=ue,B=ve({axis:d,ticks:s,bandSize:i,offset:n.offset,entry:b,index:j}),E=Te-ue,I=n.size,Y={x:v.left,y:B,width:v.width,height:I},Math.abs(D)>0&&Math.abs(E)<Math.abs(D)){var Re=fe(E||D)*(Math.abs(D)-Math.abs(E));E+=Re}}if(k==null||B==null||E==null||I==null)return null;var We=A(A({},b),{},{stackedBarStart:w,x:k,y:B,width:E,height:I,value:c?P:P[1],payload:b,background:Y,tooltipPosition:{x:k+E/2,y:B+I/2},parentViewBox:m},g&&g[j]&&g[j].props);return We}).filter(Boolean)}function Ra(e){var t=re(e,Ma),a=Ae();return l.createElement(it,{id:t.id,type:"bar"},r=>l.createElement(l.Fragment,null,l.createElement(ot,{legendPayload:Ea(t)}),l.createElement(Ia,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),l.createElement(lt,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:st(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),l.createElement(oe,{zIndex:t.zIndex},l.createElement(Na,C({},t,{id:r})))))}var Me=l.memo(Ra,nt);Me.displayName="Bar";function Pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Pe(Object(a),!0).forEach(function(r){Wa(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pe(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Wa(e,t,a){return(t=Fa(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Fa(e){var t=$a(e,"string");return typeof t=="symbol"?t:t+""}function $a(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Va=(e,t)=>t,Ha=(e,t,a)=>a,Ga=(e,t,a,r)=>r,Ua=(e,t,a,r,n)=>n,F=z([ke,Ua],(e,t)=>e.filter(a=>a.type==="bar").find(a=>a.id===t)),qa=z([F],e=>e?.maxBarSize),Xa=(e,t,a,r,n,i)=>i,Oe=(e,t,a)=>{var r=a??e;if(!X(r))return ee(r,t,0)},Ya=z([N,ke,Va,Ha,Ga],(e,t,a,r,n)=>t.filter(i=>e==="horizontal"?i.xAxisId===a:i.yAxisId===r).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Za=(e,t,a,r)=>{var n=N(e);return n==="horizontal"?pe(e,"yAxis",a,r):pe(e,"xAxis",t,r)},Ja=(e,t,a)=>{var r=N(e);return r==="horizontal"?me(e,"xAxis",t):me(e,"yAxis",a)},Qa=(e,t,a)=>{var r={},n=e.filter(Dt),i=e.filter(s=>s.stackId==null),o=n.reduce((s,c)=>(s[c.stackId]||(s[c.stackId]=[]),s[c.stackId].push(c),s),r),d=Object.entries(o).map(s=>{var[c,f]=s,v=f.map(m=>m.dataKey),g=Oe(t,a,f[0].barSize);return{stackId:c,dataKeys:v,barSize:g}}),u=i.map(s=>{var c=[s.dataKey].filter(v=>v!=null),f=Oe(t,a,s.barSize);return{stackId:void 0,dataKeys:c,barSize:f}});return[...d,...u]},er=z([Ya,Ct,Ja],Qa),tr=(e,t,a,r,n)=>{var i,o,d=F(e,t,a,r,n);if(d!=null){var u=N(e),s=Be(e),{maxBarSize:c}=d,f=X(c)?s:c,v,g;return u==="horizontal"?(v=K(e,"xAxis",t,r),g=L(e,"xAxis",t,r)):(v=K(e,"yAxis",a,r),g=L(e,"yAxis",a,r)),(i=(o=Se(v,g,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0}},Ne=(e,t,a,r)=>{var n=N(e),i,o;return n==="horizontal"?(i=K(e,"xAxis",t,r),o=L(e,"xAxis",t,r)):(i=K(e,"yAxis",a,r),o=L(e,"yAxis",a,r)),Se(i,o)};function ar(e,t,a,r,n){var i=r.length;if(!(i<1)){var o=ee(e,a,0,!0),d,u=[];if(Q(r[0].barSize)){var s=!1,c=a/i,f=r.reduce((p,y)=>p+(y.barSize||0),0);f+=(i-1)*o,f>=a&&(f-=(i-1)*o,o=0),f>=a&&c>0&&(s=!0,c*=.9,f=i*c);var v=(a-f)/2>>0,g={offset:v-o,size:0};d=r.reduce((p,y)=>{var w,b={stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:g.offset+g.size+o,size:s?c:(w=y.barSize)!==null&&w!==void 0?w:0}},j=[...p,b];return g=j[j.length-1].position,j},u)}else{var m=ee(t,a,0,!0);a-2*m-(i-1)*o<=0&&(o=0);var h=(a-2*m-(i-1)*o)/i;h>1&&(h>>=0);var x=Q(n)?Math.min(h,n):h;d=r.reduce((p,y,w)=>[...p,{stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:m+(h+o)*w+(h-x)/2,size:x}}],u)}return d}}var rr=(e,t,a,r,n,i,o)=>{var d=X(o)?t:o,u=ar(a,r,n!==i?n:i,e,d);return n!==i&&u!=null&&(u=u.map(s=>V(V({},s),{},{position:V(V({},s.position),{},{offset:s.position.offset-n/2})}))),u},nr=z([er,Be,St,kt,tr,Ne,qa],rr),ir=(e,t,a,r)=>K(e,"xAxis",t,r),or=(e,t,a,r)=>K(e,"yAxis",a,r),lr=(e,t,a,r)=>L(e,"xAxis",t,r),sr=(e,t,a,r)=>L(e,"yAxis",a,r),cr=z([nr,F],(e,t)=>{if(!(e==null||t==null)){var a=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(a!=null)return a.position}}),ur=(e,t)=>{var a=Bt(t);if(!(!e||a==null||t==null)){var{stackId:r}=t;if(r!=null){var n=e[r];if(n){var{stackedData:i}=n;if(i)return i.find(o=>o.key===a)}}}},dr=z([Za,F],ur),vr=z([jt,Et,ir,or,lr,sr,cr,N,It,Ne,dr,F,Xa],(e,t,a,r,n,i,o,d,u,s,c,f,v)=>{var{chartData:g,dataStartIndex:m,dataEndIndex:h}=u;if(!(f==null||o==null||t==null||d!=="horizontal"&&d!=="vertical"||a==null||r==null||n==null||i==null||s==null)){var{data:x}=f,p;if(x!=null&&x.length>0?p=x:p=g?.slice(m,h+1),p!=null)return Ta({layout:d,barSettings:f,pos:o,parentViewBox:t,bandSize:s,xAxis:a,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:c,displayedData:p,offset:e,cells:v,dataStartIndex:m})}}),fr=["axis","item"],pr=l.forwardRef((e,t)=>l.createElement(_t,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fr,tooltipPayloadSearcher:zt,categoricalChartProps:e,ref:t}));function mr(e,t){if(t<=1)return[e];const a=[],r=parseInt(e.replace("#",""),16),n=r>>16&255,i=r>>8&255,o=r&255;for(let d=0;d<t;d++){const u=1.3-d/(t-1)*.3,s=Math.min(255,Math.floor(n*u)),c=Math.min(255,Math.floor(i*u)),f=Math.min(255,Math.floor(o*u));a.push(`rgb(${s}, ${c}, ${f})`)}return a}function yr({selectedDuration:e,buttonsViews:t=[]}){const{t:a}=$e(),r=Array.isArray(t)?t:[],n=mr("#74B574",r.length||1),i=({y:v,index:g})=>{const m=r[g]?.button_text||"";return O.jsx("g",{transform:`translate(0, ${v-5})`,children:O.jsx("text",{x:0,y:0,fill:"#515154",fontSize:12,fontWeight:500,fontFamily:"Arial",textAnchor:"start",alignmentBaseline:"left",children:m})})},o=({x:v,y:g,width:m,value:h})=>O.jsx("text",{x:v+m+10,y:g+6,fill:"#334155",fontSize:12,fontFamily:"Arial",textAnchor:"start",alignmentBaseline:"middle",children:h??0}),f=Math.max(192,Math.min(256+(r.length-4)*24,600));return O.jsxs("div",{className:"p-4 rounded-xl bg-white flex flex-col gap-6",children:[O.jsxs("div",{className:"flex flex-col gap-1 mb-2",children:[O.jsx("h5",{className:"font-semibold text-grey900 text-[18px] leading-[28px]",children:a("dashboard.DashboardButtonsViewsChart.header")}),O.jsx("p",{className:"text-xs text-[#544854]",children:a("dashboard.DashboardButtonsViewsChart.description")})]}),O.jsx("div",{className:"w-full",style:{height:f},children:O.jsx(Kt,{width:"100%",height:"100%",id:"buttonsChart",children:O.jsxs(pr,{layout:"vertical",data:r,margin:{top:10,right:30,left:0,bottom:0},barCategoryGap:34,children:[O.jsx(Lt,{hide:!0,type:"number"}),O.jsx(Mt,{type:"category",dataKey:"button_text",hide:!0}),O.jsx(Nt,{formatter:v=>[`${v}%`,a("dashboard.DashboardButtonsViewsChart.tooltipPercentage")],contentStyle:{backgroundColor:"white",borderRadius:"8px",border:"1px solid #E2E8F0",fontFamily:"Arial",fontSize:12}}),O.jsxs(Me,{dataKey:"total_views",isAnimationActive:!1,barSize:12,fill:"#A6DBA5",cursor:"default",shape:v=>O.jsx("rect",{x:v.x,y:v.y,width:v.width,height:v.height,fill:n[v.index%n.length],rx:2}),children:[O.jsx(he,{dataKey:"button_text",content:O.jsx(i,{})}),O.jsx(he,{dataKey:"total_views",content:O.jsx(o,{})})]}),r.length>0&&O.jsx(Ce,{verticalAlign:"bottom",align:"left",iconSize:16,wrapperStyle:{paddingTop:16,paddingBottom:8,display:"flex",flexWrap:"wrap",rowGap:12,columnGap:32,maxWidth:"100%"},payload:r.map((v,g)=>({value:v.button_text||"N/A",type:"square",color:n[g%n.length]}))})]})})})]})}export{yr as default};
