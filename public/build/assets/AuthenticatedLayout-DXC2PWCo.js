import{d as i,r as d,j as e,b as y,c as x,L as g,k as w,X as k,i as v}from"./app-BHMje5Ea.js";import{A as f}from"./ApplicationLogo-GHo1PZVH.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],M=i("chevron-up",N);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],E=i("code-xml",_);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],L=i("hotel",C);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],S=i("house",$);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],O=i("key-round",A);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],H=i("log-out",U);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],W=i("menu",R);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],I=i("user",z);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],q=i("users",P);function B({currentLocale:t="en",onChange:l}){const[o,r]=d.useState(!1),a=d.useRef(null),n=[{code:"en",label:"English",flag:"/images/uk.png"},{code:"de",label:"Deutsch",flag:"/images/germany.png"}],u=s=>{r(!1),l?.(s)},h=n.find(s=>s.code===t)||n[0];return d.useEffect(()=>{const s=c=>{a.current&&!a.current.contains(c.target)&&r(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]),e.jsx("div",{className:"px-4",ref:a,children:e.jsxs("div",{className:"relative",children:[o&&e.jsx("div",{className:"absolute bottom-12 left-0 right-0 mb-2 w-full rounded-lg shadow-lg bg-white border border-gray-200 transition-all duration-150",children:n.map(s=>e.jsxs("button",{onClick:()=>u(s.code),className:`flex items-center w-full px-3 py-2 text-sm hover:bg-gray-100 ${s.code===t?"font-semibold text-primary":"text-gray-700"}`,children:[e.jsx("img",{src:s.flag,alt:s.label,className:"h-4 w-4 mr-2"}),s.label]},s.code))}),e.jsxs("button",{onClick:()=>r(!o),className:"w-full rounded-lg text-base p-3 bg-primary text-white flex justify-start gap-3 items-center hover:bg-primary focus:outline-none",title:"Change language",children:[e.jsx("img",{src:h.flag,alt:h.label,className:"h-6 w-6 rounded-full"}),e.jsx("span",{children:h.label})]})]})})}const D=()=>{const{t}=y("Components.SidebarMenu"),l=x(),{props:o,url:r}=x(),a=o.auth?.user,n=l.url||window.location.pathname,u=new URLSearchParams(r.split("?")[1]).get("hotel_id"),h=[{name:t("dashboard"),icon:S,route:"dashboard"},{name:t("keyManagement"),icon:O,route:"keys.index"},{name:t("hotelConfigurator"),icon:L,route:"hotels.index"},{name:t("usersManagement"),icon:q,route:"users.index",adminOnly:!0},{name:t("codeGenerator"),icon:E,route:"codes.index",adminOnly:!0}],s=c=>{const p=new URL(route(c),window.location.origin).pathname,m=new URL(n,window.location.origin).pathname;return m===p||m.startsWith(p+"/")};return e.jsx("ul",{className:"flex flex-col gap-1 px-4 pb-4",children:h.filter(c=>!(c.adminOnly&&a?.role!=="admin")).map((c,p)=>{const m=c.icon,b=s(c.route),j=u?`${route(c.route)}?hotel_id=${u}`:route(c.route);return e.jsx("li",{children:e.jsxs(g,{href:j,className:`p-2 flex items-center gap-3 text-base leading-[23px] rounded-lg ${b?"bg-[#F1F5F9]":"text-[#09090B]"}`,children:[e.jsx(m,{strokeWidth:2,className:"h-5 w-5"}),e.jsx("span",{children:c.name})]})},p)})})},F=()=>{const[t,l]=d.useState(!1),o=d.useRef(null),r=x().props.auth.user,{t:a}=y("Components.sidebarUserDrop");return d.useEffect(()=>{const n=u=>{o.current&&!o.current.contains(u.target)&&l(!1)};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[]),e.jsxs("div",{ref:o,className:"drop-wrapper px-4 relative",children:[e.jsxs("div",{onClick:()=>l(!t),className:`p-[9px] rounded-xl flex items-center gap-3 justify-between cursor-pointer border-2 transition-all duration-300 ${t?"border-[#6366F1]":"border-transparent"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 font-inter",children:[e.jsx("img",{src:r.profile_image?`/storage/${r.profile_image}`:"/images/user-placeholder.png",alt:"User Avatar",className:"h-11 w-11 rounded-[6px] object-cover object-center"}),e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("span",{className:"text-[15.5px] leading-[22px] text-[#71717A] font-medium",children:r.first_name}),e.jsx("span",{className:"text-[13.5px] leading-[18px] text-[#71717A] font-medium break-all",children:r.email})]})]}),e.jsx(M,{className:`text-[#71717A] h-[22px] w-[22px] transition-transform duration-300 ${t?"rotate-180":""}`,strokeWidth:2})]}),e.jsx("div",{className:`absolute user-dropup p-2 bottom-full left-4 right-4 bg-white rounded-lg overflow-hidden transition-all duration-300 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-2 pointer-events-none"}`,children:e.jsxs("ul",{className:"flex flex-col px-2",children:[e.jsx("li",{children:e.jsxs("a",{href:route("profile.edit"),className:"flex items-center gap-3 p-2 text-[#09090B] font-medium rounded-md text-sm hover:bg-gray-100",children:[e.jsx(I,{className:"h-4 w-4 text-[#1E293B]",strokeWidth:2}),e.jsx("span",{children:a("myProfile")})]})}),e.jsx("div",{className:"py-1 px-2",children:e.jsx("div",{className:"border-b border-b-[#E4E4E7]"})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>w.post(route("logout")),className:"flex items-center gap-3 p-2 text-[#09090B] font-medium rounded-md text-sm hover:bg-gray-100 w-full text-left",children:[e.jsx(H,{className:"h-4 w-4 text-[#1E293B]",strokeWidth:2}),e.jsx("span",{children:a("signOut")})]})})]})})]})},V=()=>{const[t,l]=d.useState(!1),{locale:o}=x().props;console.log(o);const r=async a=>{console.log("Switching language to:",a);try{const n=await v.post("/language",{locale:a});console.log("Language API response:",n.data)}catch(n){console.error("Error switching language:",n.response?.data||n.message)}window.location.reload()};return e.jsxs("aside",{className:"lg:w-[290px] w-full bg-white",children:[e.jsxs("div",{className:"py-4 pe-4 flex items-center gap-3 justify-between lg:hidden",children:[e.jsx(g,{href:route("dashboard"),children:e.jsx(f,{className:"md:h-[30.77px] h-6 w-auto"})}),e.jsx("button",{className:"h-8 w-8 rounded-full bg-[#83af8221] flex items-center justify-center flex-col",onClick:()=>{l(!0)},children:e.jsx(W,{strokeWidth:2,className:"text-black h-4 w-4"})})]}),e.jsx("div",{className:`h-full lg:static fixed top-0 left-0 z-50 w-full mobile-sidebar-wrapper transition-all duration-500 ${t?"translate-x-0":"lg:translate-x-0 -translate-x-full"}`,onClick:()=>{l(!1)},children:e.jsxs("div",{className:"flex flex-col pt-4 gap-[22px] h-full lg:w-full w-[290px] bg-white lg:shadow-none shadow-lg",onClick:a=>{a.stopPropagation()},children:[e.jsxs("div",{className:"py-4 flex items-center gap-3 justify-between pe-4",children:[e.jsx(g,{href:route("dashboard"),children:e.jsx(f,{className:"md:h-[30.77px] h-6 w-auto"})}),e.jsx("button",{className:"h-8 w-8 rounded-full bg-[#83af8221] flex items-center justify-center flex-col lg:hidden",onClick:()=>{l(!1)},children:e.jsx(k,{strokeWidth:2,className:"text-black h-4 w-4"})})]}),e.jsxs("div",{className:"flex grow flex-col justify-content-between",children:[e.jsxs("div",{className:"h-full flex flex-col gap-2",children:[e.jsx(D,{}),e.jsx("div",{className:"py-1",children:e.jsx("div",{className:"border-b border-b-[#E4E4E7]"})})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"py-1",children:e.jsx("div",{className:"border-b border-b-[#E4E4E7]"})}),e.jsx(B,{currentLocale:o,onChange:r}),e.jsx(F,{})]})]})]})})]})};function K({children:t}){x().props.auth.user;const[l,o]=d.useState(!1);return e.jsxs("div",{className:"h-screen max-w-[2500px] mx-auto py-2 px-2 flex lg:flex-row flex-col gap-2 bg-white",children:[e.jsx(V,{}),e.jsx("main",{className:"grow rounded-lg body-main overflow-y-auto",children:t})]})}export{K as A};
