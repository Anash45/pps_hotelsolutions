import{b as f,u as y,r as v,j as e,I as o,S as m,T as c,P as g,d as j,D as _}from"./app-X9s8cHDZ.js";import N from"./CodesPreview-D-LYh-H0.js";function k(){const{hotels:l,keyTypes:n}=f().props,{data:a,setData:d,post:u,processing:p,errors:C}=y({hotel_id:l.length>0?l[0].id:"",key_type:n.length>0?n[0].name:"",no_of_codes:"10",domain:"https://test-app.ppshotelsolutions.de"}),[t,r]=v.useState([]),h=s=>{s.preventDefault(),u(route("codes.store"),{data:a,onSuccess:i=>{console.log(i),i.props.flash.generatedCodes&&r(i.props.flash.generatedCodes)}})},x=()=>r([]);return e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:h,className:"grid gap-3 md:grid-cols-2 grid-cols-1",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"hotel",value:"Hotel",className:"text-[#344054] font-medium"}),e.jsx(m,{id:"hotel",name:"hotel_id",value:a.hotel_id,onChange:s=>d("hotel_id",s.target.value),className:"w-full block",options:l.map(s=>({value:s.id,label:s.hotel_name}))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"key_type",value:"Key Type",className:"text-[#344054] font-medium"}),e.jsx(m,{id:"key_type",name:"key_type",value:a.key_type,onChange:s=>d("key_type",s.target.value),className:"w-full block",options:n.map(s=>({value:s.name,label:s.display_name}))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"no_of_codes",value:"Number of Codes",className:"text-[#344054] font-medium"}),e.jsx(c,{id:"no_of_codes",name:"no_of_codes",value:a.no_of_codes,onChange:s=>d("no_of_codes",s.target.value),className:"block w-full",required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(o,{htmlFor:"domain",value:"Domain (read-only)",className:"text-[#344054] font-medium"}),e.jsx(c,{id:"domain",name:"domain",value:a.domain,readOnly:!0,className:"block w-full"})]}),e.jsxs("div",{className:"flex-wrap gap-1 items-center md:col-span-2 flex mt-3",children:[e.jsx(g,{type:"submit",disabled:p,children:"Generate Codes"}),e.jsx(j,{type:"button",onClick:x,children:"Clear Preview"})]})]}),t.length>0&&e.jsxs("div",{className:"flex flex-col gap-3 py-3",children:[e.jsxs("p",{className:"text-[#079E04] text-xs font-medium",children:[t.length," URLs generated and CSV downloaded."]}),e.jsx("p",{className:"text-xs leading-5 font-medium text-[#475569]",children:"Once generated, the URLs are **immediately active**. The CSV is automatically downloaded and stored in the **History** on the right."}),e.jsx(_,{className:"mt-3"})]}),t.length>0&&e.jsx(N,{domain:a.domain,previewCodes:t})]})}export{k as default};
