import{s as p,v as x,w as d,x as f,y as h,M as u,U as g,W as _,z as j,A as y,B as w,F as n,n as N,j as a,e as F,b as v,r as b,h as k,p as M,q as P}from"./app-CfozfuBz.js";const H={FileText:n,FileText:n,MapPin:w,Globe:y,Phone:j,Wifi:_,Utensils:g,Mail:u,FaFacebook:h,FaInstagram:f,FaPinterest:d,FaWhatsapp:x,FaSwimmingPool:p};function $(l){return l&&H[l]||null}function W({brandingFormData:l}){const{openModal:t}=N(),s=async e=>{try{await F.post(`/buttons/${e}/view`),console.log("✅ View tracked for button",e)}catch(o){console.error("❌ Failed to track view",o.response?.data||o)}};return a.jsx("div",{className:"space-y-2",children:l?.buttons.map((e,o)=>{const i=$(e.icon);let r="#";return e.type==="url"||e.type==="map"?r=e.url:e.type==="phone"?r=`tel:${e.phone}`:e.type==="whatsapp"?r=`https://wa.me/${e.whatsapp}`:e.type==="email"?r=`mailto:${e.email}`:e.type==="page"&&e.page_id&&(r=`/pages/${e.page_id}`),a.jsx("a",{className:"block w-full px-4 py-3 rounded-xl border text-sm hotel-button",style:{color:e.text_color??l.button_text_color,backgroundColor:e.background_color??l.primary_color,borderColor:e.background_color??l.primary_color},target:["url","map","phone","whatsapp","email"].includes(e.type)?"_blank":"_self",href:r,onClick:m=>{s(e.id||e.button_id),e.type==="wifi"&&(m.preventDefault(),t("HotelWifiModal",{wifiName:e.wifi_name,wifiPassword:e.wifi_password}))},children:a.jsxs("div",{className:"flex justify-start items-center gap-2",children:[i?a.jsx(i,{size:18}):a.jsx("span",{}),a.jsx("span",{children:e.text})]})},o)})})}function c(l){if(!l)return"";try{return M(P(l),"dd.MM.yyyy")}catch{return l}}const C=({})=>{const{codeDetails:l}=v().props,{brandingFormData:t}=b.useContext(k),s=l?.key_assignment??{};return a.jsxs("div",{className:"space-y-4",style:{color:`${t?.text_color??"#020617"}`},children:[a.jsx("div",{className:"flex justify-between gap-3 flex-wrap",children:!t.user_view||t.user_view===!1?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm font-medium",children:"Guest Name"}),a.jsx("span",{className:"text-xs",children:"Zimmer 312"})]}):a.jsxs(a.Fragment,{children:[s?.first_name||s?.last_name&&a.jsxs("span",{className:"text-sm font-medium",children:[s?.first_name," ",s?.last_name]}),s?.room_number&&a.jsxs("span",{className:"text-xs",children:["Zimmer ",s?.room_number]})]})}),a.jsxs("div",{className:"space-y-3 text-center",children:[t.logo_image_url?a.jsx("img",{src:`${t.logo_image_url}`,alt:"Hotel",className:"max-h-24 max-w-36 h-auto w-auto object-contain object-center mx-auto"}):a.jsx("img",{src:"/images/building-placeholder.webp",alt:"Hotel",className:"max-h-24 max-w-36 h-auto w-auto object-contain object-center mx-auto"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("p",{className:"text-2xl",children:t.heading??"Hotel Name"}),s?.stay_from&&s?.stay_till?a.jsxs("span",{className:"text-xs font-montserrat",children:[s?.stay_from?c(s?.stay_from):""," ","-"," ",s?.stay_till?c(s?.stay_till):""]}):null]})]}),t.banner_image_url?a.jsx("img",{src:`${t.banner_image_url}`,alt:"Hotel",className:"h-[150px] w-full rounded-[12px] object-cover object-center border mx-auto"}):a.jsx("img",{src:"/images/building-placeholder.webp",alt:"Hotel",className:"h-[132px] w-full rounded-[12px] object-cover object-center border mx-auto"}),a.jsx(W,{brandingFormData:t})]})},D=({})=>a.jsx(C,{});export{D as H,$ as g};
