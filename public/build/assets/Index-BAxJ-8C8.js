import{b as f,c as g,r as o,j as a,H as D,S as j,i as v}from"./app-CWXXFvVM.js";import{A as S}from"./AuthenticatedLayout-CpF83ZjR.js";import w from"./DashboardTitle-osYU1tw3.js";import _ from"./DashboardStats-DNUZlSaX.js";import V from"./DashboardViewsChart-BaqVd9XX.js";import y from"./DashboardButtonsViewsChart-D6JrnQ1G.js";import"./ApplicationLogo-BRAX8YVs.js";import"./CartesianChart-Dr_V7QuV.js";function B(){const{t:l}=f(),{auth:u,hotels:c=[],selectedHotel:r=null,viewsData:t={}}=g().props,[i,C]=o.useState(["7_days","30_days","90_days"]),[e,h]=o.useState(i[0]),[d,n]=o.useState(null),[m,p]=o.useState(r?String(r.id):""),x=u.user.role==="admin",b=s=>{p(s.target.value),v.get(route("dashboard"),{hotel_id:s.target.value})};return o.useEffect(()=>{t&&e&&t[e]?n(t[e]||[]):n([])},[t,e]),a.jsxs(S,{children:[a.jsx(D,{title:l("dashboard.title")}),a.jsxs("div",{className:"py-4 md:px-6 px-4 flex flex-col gap-6",children:[a.jsx(w,{durations:i,selectedDuration:e,setSelectedDuration:h}),x&&a.jsx("div",{className:"w-64",children:a.jsx(j,{id:"hotel_id",name:"hotel_id",value:m,onChange:b,className:"w-full block",options:[{value:"",label:l("dashboard.selectHotel")},...c.map(s=>({value:String(s.id),label:s.hotel_name}))]})}),a.jsxs("div",{className:"flex flex-col gap-3.5",children:[a.jsx(_,{dashboardStats:t?.all_time??{}}),a.jsx(V,{selectedDuration:e,chartViews:d?.chart_data??{},noDataMessage:l("dashboard.chartDataUnavailable")}),a.jsx(y,{buttonsViews:d?.buttons??{},selectedDuration:e,noDataMessage:l("dashboard.viewsDataUnavailable")})]})]})]})}export{B as default};
